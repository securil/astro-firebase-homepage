import{C as w,A as $,p as M,a as S,b as k,L as E,c as O,j as e,P,D as A}from"./index.DJGCb4km.js";import{r as y}from"./index.BJfUAbRs.js";w.register($,M,S,k,E,O);const _=({membersData:t})=>{const[o,j]=y.useState({primary:"rgba(10, 95, 56, 0.7)",secondary:"rgba(26, 117, 187, 0.7)",accent:"rgba(247, 209, 84, 0.7)",gray:"rgba(150, 150, 150, 0.7)"});if(y.useEffect(()=>{const s=document.documentElement,r=getComputedStyle(s).getPropertyValue("--primary-color").trim()||"#0a5f38",a=getComputedStyle(s).getPropertyValue("--secondary-color").trim()||"#1a75bb",c=getComputedStyle(s).getPropertyValue("--accent-color").trim()||"#f7d154";j({primary:`${r}b3`,secondary:`${a}b3`,accent:`${c}b3`,gray:"rgba(150, 150, 150, 0.7)"})},[]),!t||!t.rawData||t.rawData.length===0)return e.jsx("div",{className:"text-center py-8",children:"데이터를 불러오는 중입니다..."});const v={labels:Object.keys(t.genderDistribution),datasets:[{data:Object.values(t.genderDistribution),backgroundColor:[o.primary,o.secondary,o.accent,o.gray],borderColor:[o.primary.replace("0.7","1"),o.secondary.replace("0.7","1"),o.accent.replace("0.7","1"),o.gray.replace("0.7","1")],borderWidth:1}]},n=Object.entries(t.generationDistribution).map(([s,r])=>({gen:s,count:r})).sort((s,r)=>r.count-s.count);let l=[],d=0;n.length>10?(l=n.slice(0,10),d=n.slice(10).reduce((s,r)=>s+r.count,0)):l=n;const g=l.map(s=>s.gen),u=l.map(s=>s.count);d>0&&(g.push("기타"),u.push(d));const h=(s=>{const r=[0,25,50,75,100,140,180,210,240,270,300,330],a=[],c=[];for(let i=0;i<s;i++){const x=r[i%r.length],b=65+i%3*10,m=50+i%5*5;a.push(`hsla(${x}, ${b}%, ${m}%, 0.7)`),c.push(`hsl(${x}, ${b}%, ${m-10}%)`)}return{backgroundColor:a,borderColor:c}})(g.length),C={labels:g,datasets:[{label:"회원 수",data:u,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:1}]},N={responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"성별 분포",font:{size:16}}}},f={responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15}},title:{display:!0,text:"기수별 회원 분포",font:{size:16}}},cutout:"60%"},p=n.length>0?n[0].gen:"없음";return e.jsxs("div",{className:"member-stats",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:t.totalMembers}),e.jsx("div",{className:"text-gray-600",children:"총 회원 수"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-secondary mb-2",children:t.genderDistribution.남성||0}),e.jsx("div",{className:"text-gray-600",children:"남성 회원"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-accent mb-2",children:t.genderDistribution.여성||0}),e.jsx("div",{className:"text-gray-600",children:"여성 회원"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{className:"h-64 md:h-80",children:e.jsx(P,{data:v,options:N})})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{className:"h-64 md:h-80",children:e.jsx(A,{data:C,options:f})})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"통계 요약"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[e.jsxs("li",{children:["총 ",t.totalMembers,"명의 회원이 있습니다."]}),e.jsxs("li",{children:["성별 비율: 남성 ",Math.round((t.genderDistribution.남성||0)/t.totalMembers*100),"%, 여성 ",Math.round((t.genderDistribution.여성||0)/t.totalMembers*100),"%"]}),e.jsxs("li",{children:["가장 회원이 많은 기수: ",p," (",t.generationDistribution[p]||0,"명)"]}),e.jsxs("li",{children:["총 ",Object.keys(t.generationDistribution).length,"개 기수가 활동 중입니다."]})]})]})]})};export{_ as default};

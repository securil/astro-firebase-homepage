import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";const g=({data:r=[],playerId:h,playerName:c,showHandicap:o=!1,timeRange:u="all"})=>{const d=i.useRef(null),n=i.useRef(null),p=()=>{const a=[...r].sort((e,t)=>new Date(e.date)-new Date(t.date));return{labels:a.map(e=>{const t=new Date(e.date);return`${t.getMonth()+1}/${t.getDate()}`}),datasets:[{label:"스코어",data:a.map(e=>e.score),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1,fill:!1,yAxisID:"y"},...o?[{label:"핸디캡",data:a.map(e=>e.handicap||0),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.1,fill:!1,yAxisID:"y1"}]:[]]}};return i.useEffect(()=>{if(!r||r.length===0)return;if(typeof Chart>"u"){console.error("Chart 객체가 정의되지 않았습니다.");return}const a=d.current.getContext("2d");return n.current&&n.current.destroy(),n.current=new Chart(a,{type:"line",data:p(),options:{responsive:!0,plugins:{title:{display:!0,text:`${c||"회원"} 스코어 추이`},tooltip:{mode:"index",intersect:!1,callbacks:{title:function(e){const t=[...r].sort((f,x)=>new Date(f.date)-new Date(x.date)),l=e[0].dataIndex;return t[l].date}}},legend:{position:"top"}},scales:{x:{title:{display:!0,text:"날짜"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"스코어"},min:function(e){const t=Math.min(...r.map(l=>l.score));return Math.max(0,Math.floor(t*.95))},reverse:!0},...o?{y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"핸디캡"},grid:{drawOnChartArea:!1}}}:{}}}}),()=>{n.current&&n.current.destroy()}},[r,c,o,u]),s.jsxs("div",{className:"score-line-chart-container",children:[s.jsx("canvas",{ref:d}),r.length===0&&s.jsx("div",{className:"no-data-message",children:s.jsx("p",{children:"표시할 스코어 데이터가 없습니다."})})]})};export{g as default};
